syncthing:
  controller:
    labels:
      nfs: "true"
  persistence:
    config:
      enabled: true
      retain: true
      size: 10Mi
      mountPath: /config
      accessMode: ReadWriteOnce
      storageClass: longhorn
    data:
      enabled: true
      type: custom
      mountPath: /mnt/storage
      volumeSpec:
        nfs:
          server: 192.168.1.91
          path: /mnt/storage
  ingress:
    main:
      enabled: true
      annotations:
      hosts:
      - host: sync.w00t.cloud
        paths:
        - path: /
          pathType: Prefix
  initContainers:
    duplicacy-init:
      image: alexphillips/duplicacy-init
      env:
        - name: BACKUP_NAME
          value: gcd-syncthing
        - name: BACKUP_LOCATION
          value: gcd://duplicacy_backup/syncthing
        - name: DUPLICACY_PASSWORD
          valueFrom:
            secretKeyRef:
              name: duplicacy
              key: password
        - name: GCD_TOKEN
          valueFrom:
            secretKeyRef:
              name: duplicacy
              key: gcd_token
      volumeMounts:
        - mountPath: /data
          name: config
  # additionalContainers:
  #   duplicacy-backup:
  #     image: alexphillips/duplicacy-backup
  #     env:
  #       - name: SCHEDULE
  #         value: "0 20 * * *"
  #       - name: HC_API_URL
  #         value: https://hc.w00t.cloud/ping
  #       - name: CHECK_UUID
  #         value: 52150d16-2eb3-44e8-bc41-80274a5cfb86
  #       - name: DUPLICACY_PASSWORD
  #         valueFrom:
  #           secretKeyRef:
  #             name: duplicacy
  #             key: password
  #       - name: GCD_TOKEN
  #         valueFrom:
  #           secretKeyRef:
  #             name: duplicacy
  #             key: gcd_token
  #     volumeMounts:
  #       - mountPath: /data
  #         name: config
